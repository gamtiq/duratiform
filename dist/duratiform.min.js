!function(t,e){if(void 0===t&&void 0!==window&&(t=window),"object"==typeof module&&module.exports)module.exports=e(require,exports,module);else if("function"==typeof define&&define.amd)define(["require","exports","module"],e);else{var r={exports:t};t.duratiform=e(0,0,r)}}(this,function(t,e,r){function x(n,t,o){var i={};function e(t,e){var r;e<=n?(r=i[t]=Math.floor(n/e),n%=e):r=i[t]=0,o&&(i[t+"2"]=r<10?"0"+r:String(r))}return n*=.001,3<(t=t||3)&&e("day",86400),2<t&&e("hour",3600),1<t&&e("minute",60),0<t&&e("second",1),i}return r.exports={divide:x,format:function(t,e){var r,n,o,i,u,s,h,d,f=[],c=!0,a=null,l=[],p=0,m={d:["day",4],h:["hour",3],m:["minute",2],s:["second",1]};function g(){return a&&l.concat(a)}function v(){var t,e,r,n,o=this.g;if(o){for(r=0,e=o.length;r<e;r++)if((t="!"===(n=o[r]).charAt(0))&&d[n.substring(1)]||!t&&!d[n]){o=!1;break}}else o=!0;return o?this.c||String(d[this.p]):""}for(n=0,o=(i=(e=e||"hh:mm:ss").length)-1;n<i;n++)u=e.charAt(n),s=e.charAt(n+1),c&&u in m?(d=m[u],s===u?(h=d[0]+"2",n++):h=d[0],f.push({p:h,g:g(),toString:v}),d[1]>p&&(p=d[1])):c&&"["===u?c=!1:c||"]"!==u?c&&"("===u&&(r="!"===s,1)&&":"===e.charAt(n+(r?3:2))&&(h=(r?e.charAt(n+2):s).match(/d|h|m|s/))?(a&&l.push(a),a=(r?"!":"")+m[h[0]][0],n+=r?3:2):c&&a&&")"===u?a=l.length?l.pop():null:("\\"!==u||n<o)&&("\\"===u&&(u=s,n++),f.push(a?{g:g(),c:u,toString:v}:u)):c=!0;return p&&(d=x(t,p,!0)),f.join("")}},r.exports});