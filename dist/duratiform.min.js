!function(t,e){if(void 0===t&&void 0!==window&&(t=window),"object"==typeof module&&module.exports)module.exports=e(require,exports,module);else if("function"==typeof define&&define.amd)define(["require","exports","module"],e);else{var r={exports:t};t.duratiform=e(0,0,r)}}(this,function(t,e,r){function l(o,t,n){var i={};function e(t,e){var r;e<=o?(r=i[t]=Math.floor(o/e),o%=e):r=i[t]=0,n&&(i[t+"2"]=r<10?"0"+r:String(r))}return o*=.001,3<(t=t||3)&&e("day",86400),2<t&&e("hour",3600),1<t&&e("minute",60),0<t&&e("second",1),i}return r.exports={divide:l,format:function(t,e){var r,o,n,i,u,d,h=[],s=!0,c=null,f=[],a=0,p={d:["day",4],h:["hour",3],m:["minute",2],s:["second",1]};function m(){var t=this.g;return!t||d[t]?this.c||String(d[this.p]):""}for(r=0,o=(n=(e=e||"hh:mm:ss").length)-1;r<n;r++)i=e.charAt(r),s&&i in p?(d=p[i],e.charAt(r+1)===i?(u=d[0]+"2",r++):u=d[0],h.push({p:u,g:c,toString:m}),d[1]>a&&(a=d[1])):s&&"["===i?s=!1:s||"]"!==i?s&&"("===i&&":"===e.charAt(r+2)&&(u=e.charAt(r+1).match(/d|h|m|s/))?(c&&f.push(c),c=p[u[0]][0],r+=2):s&&c&&")"===i?c=f.length?f.pop():null:("\\"!==i||r<o)&&("\\"===i&&(i=e.charAt(++r)),h.push(c?{g:c,c:i,toString:m}:i)):s=!0;return a&&(d=l(t,a,!0)),h.join("")}},r.exports});